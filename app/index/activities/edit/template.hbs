<form data-test-activity-edit-form {{action 'save' on='submit'}}>
  <div class="card">
    <div class="card-header hidden-lg">
      {{#link-to 'index.activities'}}{{fa-icon 'chevron-left'}}{{/link-to}}
    </div>
    <div class="card-block">
      {{#task-selection task=activity.task as |t|}}
        <div class="form-group">{{t.customer}}</div>
        <div class="form-group">{{t.project}}</div>
        <div class="form-group">{{t.task}}</div>
      {{/task-selection}}
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          placeholder="Comment"
          name="comment"
          value={{activity.comment}}
          onchange={{action (mut activity.comment) value='target.value'}}
        >
      </div>
      <div class="form-group checkboxes">
        {{sy-checkbox
          data-test-activity-review
          checked=activity.review
          on-change=(action (mut activity.review))
          label='Needs review'
        }}
        {{sy-checkbox
          data-test-activity-not-billable
          checked=activity.notBillable
          on-change=(action (mut activity.notBillable))
          label='Not billable'
        }}
      </div>
      <table class="table table--striped table--activity-edit">
        <tbody>
          <tr
            data-test-activity-block-row
            data-test-activity-block-row-id={{activity.id}}
          >
            <td class="form-group {{if activity.error.fromTime 'has-error'}}">
              {{sy-timepicker
                value        = activity.fromTime
                max          = activity.toTime
                precision    = 1
                on-focus-out = (action 'validateChangeset' activity)
                on-change    = (action (mut activity.fromTime))
              }}
            </td>
            <td>-</td>
            <td class="form-group {{if activity.error.toTime 'has-error'}}">
              {{sy-timepicker
                value        = activity.toTime
                min          = activity.fromTime
                precision    = 1
                disabled     = (if activity.active true)
                on-focus-out = (action 'validateChangeset' activity)
                on-change    = (action (mut activity.toTime))
              }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="card-footer text-right">
      <button class="btn btn-danger" type="button" disabled={{model.active}} {{action 'delete' activity}}>Delete</button>
      <button class="btn btn-primary" type="submit" disabled={{not saveEnabled}}>Save</button>
    </div>
  </div>
</form>
